<!DOCTYPE html>
<html><head>
<meta charset="UTF-8">
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<style>
body { background: #1e293b; margin: 0; padding: 40px; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
.container { background: #0f172a; border-radius: 20px; padding: 40px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); }
h1 { color: #38bdf8; text-align: center; font-family: system-ui; margin-bottom: 30px; font-size: 1.8rem; }
</style>
</head><body>
<div class="container">
<h1>ğŸ—ï¸ Ask Gary - Solution Architecture</h1>
<div class="mermaid">
flowchart TB
    subgraph Internet["ğŸŒ Internet"]
        User["ğŸ‘¤ Visitors / Recruiters<br/>(Web Browser)"]
        CF["â˜ï¸ Cloudflare CDN<br/>gary-yong.com"]
    end

    subgraph AWS["â˜ï¸ AWS EC2 Instance (Ubuntu)"]
        subgraph Nginx["ğŸ”§ Nginx Reverse Proxy"]
            Static["ğŸ“„ Static Files<br/>gary-yong.com/*"]
            Proxy["ğŸ”€ API Proxy<br/>api.gary-yong.com"]
        end
        
        subgraph Frontend["ğŸ–¥ï¸ Frontend"]
            HTML["ğŸ“ ask-gary.html"]
            JS["âš¡ ask-gary.js"]
            CSS["ğŸ¨ styles.css"]
        end
        
        subgraph Backend["âš™ï¸ Backend (FastAPI)"]
            Main["ğŸ main.py<br/>/health, /chat"]
            Config["âš™ï¸ config.py"]
            Index["ğŸ“Š indexed_data.json"]
        end
    end
    
    subgraph OpenAI["ğŸ¤– OpenAI API"]
        Embed["ğŸ”¢ Embeddings API<br/>text-embedding-3-small"]
        Chat["ğŸ’¬ Chat Completions<br/>gpt-4o-mini"]
    end

    User --> CF
    CF --> Nginx
    Static --> Frontend
    Proxy --> Backend
    JS -.->|"POST /chat"| Proxy
    Main --> Embed
    Main --> Chat
    Config --> Main
    Index --> Main
</div>
</div>
<script>mermaid.initialize({startOnLoad:true,theme:'dark',themeVariables:{primaryColor:'#38bdf8',primaryTextColor:'#fff',primaryBorderColor:'#1e40af',lineColor:'#38bdf8',secondaryColor:'#1e293b',tertiaryColor:'#0f172a'}});</script>
</body></html>
